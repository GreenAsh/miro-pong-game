<!DOCTYPE html>
<html lang="en">

<head>
	<meta charset="UTF-8">
	<link rel="stylesheet" type="text/css" href="https://realtimeboard.com/app/static/rtb.uikit.css">
	<script src="https://realtimeboard.com/app/static/rtb.sdk.1.0.js"></script>

	<style>
		.rtb-sidebar-caption {
			font-size: 14px;
			font-weight: bold;
			color: rgba(0, 0, 0, 0.8);
			padding: 24px 0 0 24px;
		}

		.actions {
			padding: 20px 24px 0 24px;
		}

		button {
			height: 32px;
			border-radius: 4px;
			font-size: 12px;
			font-weight: bold;
			line-height: 30px;
			text-align: center;
			color: #fff;
			min-width: 65px;
			background-color: #2a79ff;
			overflow: hidden;
			text-overflow: ellipsis;
		}
	</style>
	<script src="global.js"></script>
	<script src="mapA.js"></script>
	<script src="setup.js"></script>
	<script src="input.js"></script>
</head>

<body>
	<div class="rtb-sidebar-caption">Ping-pong</div>
	<div class="actions">
		<center>
			<br><br>
			<button onclick="run()" style="width: 120px;">Play!</button>
			<br><br>
			<h2 id="controls" style="display:none;">Use up/down arrows and A/Z keys to control pad</h2>
			<h2 id="you-are-dead" style="display:none; background-color: red;">You are dead, reopen sidebar and click 'Play'!</h2>
			<h2 id="click-for-focus" style="display:none;">Click on sidebar <br>to control pad</h2>
		</center>
	</div>
	<script>
		'use strict'

		var direction = {x : 1, y: 0};
		async function run() {
			await renderer.init().finally(() => {
				// var a = setInterval(() => {
				// 	if (world.pad.move(direction.x, direction.y)){
				// 		renderer.redrawMap();
				// 	} else {
				// 		if (direction.x === 1){
				// 			direction = {x : 0, y: -1};
				// 		} else if (direction.y === -1){
				// 			direction = {x : -1, y: 0};
				// 		} else if (direction.x === -1){
				// 			direction = {x : 0, y: 1};
				// 		} else {
				// 			direction = {x : 1, y: 0};
				// 		}
				// 		if (world.pad.move(direction.x, direction.y)){
				// 			renderer.redrawMap();
				// 		}
				// 	}
				// }, 100);
				// setTimeout(() => {clearInterval(a)}, 20000);
			});
		}
	</script>
</body>

</html>